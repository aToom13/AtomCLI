<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AtomCLI Dashboard</title>
  <link rel="icon"
    href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>‚öõ</text></svg>" />
  <!-- Fonts: Plus Jakarta Sans + JetBrains Mono -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500&family=Plus+Jakarta+Sans:wght@400;500;600;700&display=swap"
    rel="stylesheet" />

  <link rel="stylesheet" href="/dashboard/css/main.css?v=6" />
  <link rel="stylesheet" href="/dashboard/css/layout.css?v=6" />
  <link rel="stylesheet" href="/dashboard/css/sidebar.css?v=6" />
  <link rel="stylesheet" href="/dashboard/css/topbar.css?v=6" />
  <link rel="stylesheet" href="/dashboard/css/content.css?v=6" />
  <link rel="stylesheet" href="/dashboard/css/components.css?v=6" />
  <link rel="stylesheet" href="/dashboard/css/chat.css?v=6" />
  <link rel="stylesheet" href="/dashboard/css/responsive.css?v=6" />
</head>

<body>
  <div class="app">
    <!-- Mobile Header with Hamburger Menu -->
    <header class="mobile-header">
      <div class="mobile-header-left">
        <button class="hamburger-btn" id="hamburger-btn" aria-label="Toggle menu">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <line x1="3" y1="6" x2="21" y2="6"></line>
            <line x1="3" y1="12" x2="21" y2="12"></line>
            <line x1="3" y1="18" x2="21" y2="18"></line>
          </svg>
        </button>
        <div class="mobile-logo">
          <div class="mobile-logo-icon">
            <svg viewBox="0 0 24 24">
              <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5" />
            </svg>
          </div>
        </div>
      </div>
      <div class="mobile-header-right">
        <div class="mobile-status">
          <span class="status-dot" id="mobile-status-dot" style="background: var(--warning)"></span>
          <span style="font-size: 11px" id="mobile-status-text">Connecting...</span>
        </div>
      </div>
    </header>

    <!-- Sidebar Overlay -->
    <div class="sidebar-overlay" id="sidebar-overlay"></div>

    <!-- Sidebar -->
    <aside class="sidebar">
      <div class="sidebar-header">
        <div class="sidebar-logo">‚öõ</div>
        <div>
          <div class="sidebar-title">AtomCLI</div>
          <div class="sidebar-version" id="sidebar-version">v0.0.0</div>
        </div>
      </div>
      <nav class="sidebar-nav">
        <div class="nav-section">
          <div class="nav-section-title">Chat</div>
          <div class="nav-item active" data-page="chat">
            <span class="nav-icon">üí¨</span>
            <span>New Chat</span>
          </div>
          <div class="session-list" id="session-sidebar-list"></div>
        </div>
        <div class="nav-section">
          <div class="nav-section-title">System</div>
          <div class="nav-item" data-page="dashboard">
            <span class="nav-icon">üìä</span>
            <span>Dashboard</span>
          </div>
          <div class="nav-item" data-page="providers">
            <span class="nav-icon">ü§ñ</span>
            <span>Providers</span>
          </div>
          <div class="nav-item" data-page="agents">
            <span class="nav-icon">üéØ</span>
            <span>Agents</span>
          </div>
          <div class="nav-item" data-page="tools">
            <span class="nav-icon">üîß</span>
            <span>Tools</span>
          </div>
          <div class="nav-item" data-page="mcp">
            <span class="nav-icon">üîå</span>
            <span>MCP Servers</span>
          </div>
          <div class="nav-item" data-page="config">
            <span class="nav-icon">‚öôÔ∏è</span>
            <span>Config</span>
          </div>
          <div class="nav-item" data-page="files">
            <span class="nav-icon">üìÅ</span>
            <span>Files</span>
          </div>
          <div class="nav-item" data-page="skills">
            <span class="nav-icon">‚ö°</span>
            <span>Skills</span>
          </div>
        </div>
      </nav>
      <div class="sidebar-footer">AtomCLI Web Dashboard</div>
    </aside>

    <!-- Main Content -->
    <main class="main">
      <header class="topbar">
        <div class="topbar-title" id="page-title">Chat</div>
        <div class="topbar-right">
          <div class="status-dot" id="desktop-status-dot" style="background: var(--warning)"></div>
          <span style="font-size: 12px; color: var(--text3)" id="desktop-status-text">Connecting...</span>
          <button class="topbar-btn" onclick="App.refreshPage()">‚Üª Refresh</button>
        </div>
      </header>

      <div class="content">
        <!-- CHAT PAGE -->
        <div class="page active" id="page-chat">
          <div class="chat-page">
            <div class="chat-messages" id="chat-messages">
              <div class="chat-empty">
                <div class="chat-empty-icon">üí¨</div>
                <div style="font-size: 18px; font-weight: 600">Start a conversation</div>
                <div style="font-size: 13px">Select a model and type your message below</div>
              </div>
            </div>
            <div class="chat-input-area">
              <div class="chat-input-wrap">
                <div class="chat-model-bar">
                  <div class="model-filter-container" id="model-filter-container"></div>
                  <div class="model-select-row">
                    <select class="input chat-model-dropdown" id="chat-provider">
                      <option>Loading models...</option>
                    </select>
                    <span class="chat-session-label" id="chat-session-info"></span>
                  </div>
                </div>
                <div class="chat-compose">
                  <textarea class="chat-input" id="chat-input" placeholder="Type your message..." rows="1"></textarea>
                  <button class="chat-send-btn" id="chat-send-btn">Send ‚û§</button>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- DASHBOARD PAGE -->
        <div class="page" id="page-dashboard">
          <div class="cards-grid" id="dashboard-cards"></div>

          <!-- Quick Actions -->
          <div class="section">
            <div class="section-header">
              <h2 class="section-title">Quick Actions</h2>
            </div>
            <div class="cards-grid" id="dashboard-actions">
              <div class="card cursor-pointer" onclick="Navigation.startNewChat()">
                <div class="card-header">
                  <span class="card-icon">üí¨</span>
                  <span class="card-title">New Chat</span>
                </div>
                <div class="card-subtitle">Start a new conversation</div>
              </div>
              <div class="card cursor-pointer" onclick="Navigation.navigate('providers')">
                <div class="card-header">
                  <span class="card-icon">üîå</span>
                  <span class="card-title">Providers</span>
                </div>
                <div class="card-subtitle">Manage AI providers & models</div>
              </div>
              <div class="card cursor-pointer" onclick="Navigation.navigate('config')">
                <div class="card-header">
                  <span class="card-icon">‚öôÔ∏è</span>
                  <span class="card-title">Configuration</span>
                </div>
                <div class="card-subtitle">Edit settings & preferences</div>
              </div>
            </div>
          </div>

          <!-- Connected Providers -->
          <div class="section">
            <div class="section-header">
              <h2 class="section-title">Connected Providers</h2>
            </div>
            <div id="dashboard-providers">
              <div class="loading">
                <div class="spinner"></div>
              </div>
            </div>
          </div>

          <!-- System Info -->
          <div class="section">
            <div class="section-header">
              <h2 class="section-title">System Info</h2>
            </div>
            <div class="table-container">
              <table class="table" id="system-info-table">
                <tbody></tbody>
              </table>
            </div>
          </div>
        </div>

        <!-- PROVIDERS PAGE -->
        <div class="page" id="page-providers">
          <div class="section">
            <div class="section-header">
              <h2 class="section-title">AI Providers</h2>
              <span style="font-size: 12px; color: var(--text3)" id="model-filter-info"></span>
            </div>
            <div id="providers-list">
              <div class="loading">
                <div class="spinner"></div>
              </div>
            </div>
          </div>
        </div>

        <!-- AGENTS PAGE -->
        <div class="page" id="page-agents">
          <div class="section">
            <div class="section-header">
              <h2 class="section-title">Agents</h2>
            </div>
            <div id="agents-list">
              <div class="loading">
                <div class="spinner"></div>
              </div>
            </div>
          </div>
        </div>

        <!-- TOOLS PAGE -->
        <div class="page" id="page-tools">
          <div class="section">
            <div class="section-header">
              <h2 class="section-title">Available Tools</h2>
            </div>
            <div id="tools-list">
              <div class="loading">
                <div class="spinner"></div>
              </div>
            </div>
          </div>
        </div>

        <!-- MCP PAGE -->
        <div class="page" id="page-mcp">
          <div class="section">
            <div class="section-header">
              <h2 class="section-title">MCP Servers</h2>
              <button class="btn btn-primary" id="add-mcp-btn">+ Add Server</button>
            </div>
            <div id="mcp-list">
              <div class="loading">
                <div class="spinner"></div>
              </div>
            </div>
          </div>
        </div>

        <!-- CONFIG PAGE -->
        <div class="page" id="page-config">
          <div class="section">
            <div class="section-header">
              <h2 class="section-title">Configuration</h2>
              <button class="btn btn-primary" id="save-config-btn">üíæ Save</button>
            </div>
            <textarea class="json-editor" id="config-editor"></textarea>
          </div>
        </div>

        <!-- FILES PAGE -->
        <div class="page" id="page-files">
          <div class="section">
            <div class="section-header">
              <h2 class="section-title">File Browser</h2>
              <div style="display: flex; gap: 8px; align-items: center">
                <span style="font-size: 12px; color: var(--text3)" id="current-path">/</span>
                <button class="btn btn-secondary btn-sm" id="files-up-btn">‚¨Ü Up</button>
              </div>
            </div>
            <div id="files-list">
              <div class="loading">
                <div class="spinner"></div>
              </div>
            </div>
          </div>
          <div class="section" id="file-content-section" style="display: none">
            <div class="section-header">
              <h2 class="section-title" id="file-content-title"></h2>
            </div>
            <pre class="json-editor" id="file-content-area" style="min-height: 200px; white-space: pre-wrap"></pre>
          </div>
        </div>

        <!-- SKILLS PAGE -->
        <div class="page" id="page-skills">
          <div class="section">
            <div class="section-header">
              <h2 class="section-title">Skills & Agents</h2>
            </div>
            <div id="skills-list">
              <div class="loading">
                <div class="spinner"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>

  <!-- Modal Overlay -->
  <div class="modal-overlay" id="modal-overlay">
    <div class="modal" id="modal-content"></div>
  </div>

  <!-- Toast Container -->
  <div class="toast-container" id="toast-container"></div>

  <!-- JavaScript Files -->
  <script src="/dashboard/js/utilities.js?v=6"></script>
  <script src="/dashboard/js/navigation.js?v=6"></script>
  <script src="/dashboard/js/chat.js?v=6"></script>
  <script src="/dashboard/js/pageLoaders.js?v=6"></script>
  <script src="/dashboard/js/sse.js?v=6"></script>
  <script src="/dashboard/js/modal.js?v=6"></script>
  <script src="/dashboard/js/main.js?v=6"></script>
</body>

</html>